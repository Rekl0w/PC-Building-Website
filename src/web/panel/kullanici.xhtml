<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Kullanıcı İşlemleri</title>
        <h:outputStylesheet library ="css" name ="bootstrap.min.css"/>
    </h:head>
    <h:body>
        <h:form>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <h:commandLink action="/index" value="PC Building" styleClass="navbar-brand"/>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/kullanici" value="Kullanıcı İşlemleri" />
                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/anakart" value="Anakart" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/bilgisayar-bileseni" value="Bilgisayar Bileşeni" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/ekran-karti" value="Ekran Kartı" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/islemci" value="İşlemci" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/monitor" value="Monitör" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/mouse" value="Mouse" />
                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/ram" value="Ram" />

                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/kampanya" value="Kampanya" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/kasa" value="Kasa" />

                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/klavye" value="Klavye" />
                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/login" value="Login" />

                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/register" value="Register" />
                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/document/document" value="Document" />
                            </li>

                        </ul>
                    </div>
                </div>
            </nav>
        </h:form>

        <h:form id="kullanici-form">
            <div class="mb-3">
                <label class="form-control">Ad - Soyad </label>
                <h:inputText value = "#{kullaniciController.entity.ad_soyad}" />
            </div>
            <div class="mb-3">
                <label class="form-control">Şifre </label>
                <h:inputText value = "#{kullaniciController.entity.sifre}" />
            </div>

            <h:commandButton rendered = "#{kullaniciController.entity.kullanici_id == 0}" action = "#{kullaniciController.create()}" value = "create" styleClass="btn btn-primary">
                <f:ajax execute = "kullanici-form" render = "kullanici-form kullanici-table"/>
            </h:commandButton>    
            <h:commandButton rendered = "#{kullaniciController.entity.kullanici_id != 0}" action = "#{kullaniciController.update()}" value = "update" styleClass="btn btn-success">
                <f:ajax execute = "kullanici-form" render = "kullanici-form kullanici-table"/>
            </h:commandButton> 

        </h:form>
        <hr />
        <h:form id = "kullanici-table">
            <h:dataTable styleClass="table table-striped table-hover" value = "#{kullaniciController.list}" var = "k" border = "1">
                <h:column>
                    <f:facet name ="header" >ID</f:facet>
                        #{k.kullanici_id}
                </h:column>

                <h:column>
                    <f:facet name ="header" >Ad - Soyad</f:facet>
                        #{k.ad_soyad}
                </h:column>

                <h:column>
                    <f:facet name ="header" >Şifre</f:facet>
                        #{k.sifre}
                </h:column>

                <h:column>
                    <f:facet name ="header" >Administration</f:facet>
                    <h:commandButton action = "#{kullaniciController.delete(k)}" value ="delete" styleClass="btn btn-danger">
                        <f:ajax execute = "kullanici-form" render = "kullanici-form kullanici-table"/>
                    </h:commandButton>    

                    <h:commandButton action = "#{kullaniciController.setEntity(k)}" value ="update" styleClass="btn btn-success">
                        <f:ajax execute = "kullanici-form" render = "kullanici-form kullanici-table"/>
                    </h:commandButton> 
                </h:column>

            </h:dataTable>

        </h:form>
    </h:body>
</html>

