<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Kampanya</title>
        <h:outputStylesheet library ="css" name ="bootstrap.min.css"/>
    </h:head>
    <h:body>
        <h:form>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <h:commandLink action="/index" value="PC Building" styleClass="navbar-brand"/>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/kullanici" value="Kullanıcı İşlemleri" />
                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/anakart" value="Anakart" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/bilgisayar-bileseni" value="Bilgisayar Bileşeni" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/ekran-karti" value="Ekran Kartı" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/islemci" value="İşlemci" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/monitor" value="Monitör" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/mouse" value="Mouse" />
                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/ram" value="Ram" />

                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/kampanya" value="Kampanya" />

                            </li>

                            <li class="nav-item">
                                <h:commandLink styleClass="nav-link" action="/panel/kasa" value="Kasa" />

                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/klavye" value="Klavye" />
                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/login" value="Login" />

                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/panel/register" value="Register" />
                            </li>

                            <li class="nav-item">

                                <h:commandLink styleClass="nav-link" action="/document/document" value="Document" />
                            </li>

                        </ul>
                    </div>
                </div>
            </nav>
        </h:form>

        <h:form id = "kampanya-form">
            <div class="mb-3">
                <label class="form-control">İndirim Yüzdesi </label>
                <h:inputText value = "#{kampanyaController.entity.indirim_yuzdesi}" />
            </div>

            <h:commandButton rendered = "#{kampanyaController.entity.kampanya_id == 0}" action = "#{kampanyaController.create()}" value = "create" styleClass="btn btn-primary">
                <f:ajax execute = "kampanya-form" render = "kampanya-form kampanya-table"/>
            </h:commandButton> 
            <h:commandButton rendered = "#{kampanyaController.entity.kampanya_id != 0}" action = "#{kampanyaController.update()}" value = "update" styleClass="btn btn-success">
                <f:ajax execute = "kampanya-form" render = "kampanya-form kampanya-table"/>
            </h:commandButton> 



        </h:form>
        <hr />
        <h:form id = "kampanya-table">
            <pre>Page #{kampanyaController.page} of #{kampanyaController.pageCount}</pre>
            <div class="btn-group">
                <h:commandButton action="#{kampanyaController.previous()}" value="Previous" styleClass="btn btn-outline-dark">
                    <f:ajax execute = "@this" render = "kampanya-table"/>
                </h:commandButton>
                <h:commandButton action="#{kampanyaController.next()}" value="Next" styleClass="btn btn-outline-dark">
                    <f:ajax execute = "@this" render = "kampanya-table"/>
                </h:commandButton>


            </div>
            <h:dataTable styleClass="table table-striped table-hover" value = "#{kampanyaController.list}" var = "k" border = "1">
                <h:column>
                    <f:facet name ="header" >ID</f:facet>
                        #{k.kampanya_id}
                </h:column>

                <h:column>
                    <f:facet name ="header" >İndirim Yüzdesi</f:facet>
                        #{k.indirim_yuzdesi}
                </h:column>

                <h:column>
                    <f:facet name ="header" >Administration</f:facet>
                    <h:commandButton action = "#{kampanyaController.delete(k)}" value ="delete" styleClass="btn btn-danger">
                        <f:ajax execute = "kampanya-form" render = "kampanya-form kampanya-table"/>
                    </h:commandButton> 
                    <h:commandButton action = "#{kampanyaController.setEntity(k)}" value ="update" styleClass="btn btn-success">
                        <f:ajax execute = "kampanya-form" render = "kampanya-form kampanya-table"/>
                    </h:commandButton> 

                </h:column>


            </h:dataTable>

        </h:form>
    </h:body>
</html>